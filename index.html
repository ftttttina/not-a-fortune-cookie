<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Black Fortune Cookie | 黑色幸運餅乾</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-color: #0a0a0a;
      --text-color: #ffffff;
      --accent-color: #555;
    }

    body {
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      font-family: "Times New Roman", "華康明體", serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    .app {
      max-width: 450px;
      width: 90%;
      text-align: center;
    }

    .header h1 { font-size: 28px; letter-spacing: 6px; margin-bottom: 5px; font-weight: 300; }
    .header p { font-size: 11px; color: var(--accent-color); margin-top: 0; margin-bottom: 40px; letter-spacing: 2px; }

    select {
      background: #111;
      color: #999;
      border: 1px solid #222;
      padding: 10px;
      width: 200px;
      margin-bottom: 40px;
      cursor: pointer;
      outline: none;
      appearance: none; /* 移除預設樣式 */
      text-align: center;
    }

    /* 餅乾容器 */
    .cookie-box {
      position: relative;
      width: 260px;
      height: 200px;
      margin: 0 auto;
      cursor: pointer;
    }

    /* 左右兩片餅乾的核心邏輯 */
    .cookie-part {
      position: absolute;
      width: 130px; /* 容器總寬度的一半 */
      height: 200px;
      background-image: url('black-cookie.png'); /* 讀取你的圖片 */
      background-size: 260px 200px; /* 背景寬度要是容器的兩倍 */
      background-repeat: no-repeat;
      transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 2;
    }

    .left-part {
      left: 0;
      background-position: left center; /* 只顯示圖片左半部 */
    }

    .right-part {
      right: 0;
      background-position: right center; /* 只顯示圖片右半部 */
    }

    /* 裂開動畫 */
    .cookie-box.open .left-part {
      transform: translate(-90px, -30px) rotate(-40deg);
      opacity: 0.2;
      filter: blur(2px);
    }

    .cookie-box.open .right-part {
      transform: translate(90px, -30px) rotate(40deg);
      opacity: 0.2;
      filter: blur(2px);
    }

    /* 紙條動畫 */
    .paper-strip {
      position: absolute;
      top: 45%;
      left: 50%;
      width: 0;
      height: 45px;
      background: #ffffff;
      color: #000;
      transform: translate(-50%, -50%);
      overflow: hidden;
      transition: width 0.6s ease 0.1s;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1;
      box-shadow: 0 4px 20px rgba(255,255,255,0.1);
    }

    .cookie-box.open .paper-strip {
      width: 240px;
    }

    /* 籤文顯示區域 */
    .fortune-content {
      margin-top: 50px;
      min-height: 100px;
      opacity: 0;
      transition: opacity 0.8s ease 0.4s;
    }

    .fortune-content.show { opacity: 1; }

    .en-text { font-style: italic; font-size: 18px; margin-bottom: 10px; display: block; color: #fff; }
    .zh-text { font-size: 15px; color: #888; letter-spacing: 1px; display: block; }

    button {
      margin-top: 30px;
      background: none;
      border: 1px solid #333;
      color: #555;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 11px;
      letter-spacing: 1px;
    }

    button:hover { color: #eee; border-color: #666; }
  </style>
</head>
<body>

  <div class="app">
    <div class="header">
      <h1>BLACK FORTUNE</h1>
      <p>BILINGUAL CRUELTY / 雙語真相</p>
    </div>

    <select id="flavor">
      <option value="life">LIFE / 生活</option>
      <option value="work">WORK / 職場</option>
      <option value="love">LOVE / 情感</option>
    </select>

    <div class="cookie-box" id="cookieBox">
      <div class="paper-strip">
        <span style="font-size: 10px; color: #999; letter-spacing: 2px;">THE TRUTH</span>
      </div>
      <div class="cookie-part left-part"></div>
      <div class="cookie-part right-part"></div>
    </div>

    <div class="fortune-content" id="fortuneDisplay">
      <span class="en-text" id="enText"></span>
      <span class="zh-text" id="zhText"></span>
    </div>

    <button onclick="reset()">RETRY DESTINY</button>
  </div>

  <script>
    const fortunes = {
      life: [
        { en: "You're not lost. You're just avoiding the truth.", zh: "你不是迷路，你只是在逃避真相。" },
        { en: "Your potential is a ceiling you'll never touch.", zh: "你的潛力是你永遠觸碰不到的天花板。" },
        { en: "Tomorrow is just today's mistakes repeated.", zh: "明天不過是今天的錯誤循環。" }
      ],
      work: [
        { en: "The company's success is not your success.", zh: "公司的成功，並不是你的成功。" },
        { en: "You are one 'restructuring' away from being forgotten.", zh: "你離被遺忘只隔了一次「組織重整」。" },
        { en: "Your passion is being sold for someone else's yacht.", zh: "你的熱情正在被販賣，換成別人的遊艇。" }
      ],
      love: [
        { en: "They missed you until they found someone else.", zh: "他們一直很想你，直到找到了別人。" },
        { en: "Attachment is not love. Loneliness is not a reason.", zh: "依賴不是愛，寂寞也不是理由。" },
        { en: "Red flags look like roses when you're desperate.", zh: "當你渴望愛時，危險信號看起來都像玫瑰。" }
      ]
    };

    const sound = new Audio('https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3');
    const box = document.getElementById('cookieBox');
    const display = document.getElementById('fortuneDisplay');

    box.addEventListener('click', () => {
      if(box.classList.contains('open')) return;
      
      sound.currentTime = 0;
      sound.play();
      box.classList.add('open');
      
      const flavor = document.getElementById('flavor').value;
      const list = fortunes[flavor];
      const item = list[Math.floor(Math.random() * list.length)];

      setTimeout(() => {
        document.getElementById('enText').textContent = item.en;
        document.getElementById('zhText').textContent = item.zh;
        display.classList.add('show');
      }, 500);
    });

    function reset() {
      box.classList.remove('open');
      display.classList.remove('show');
    }
  </script>
</body>
</html>
